(()=>{var e={};e.id=402,e.ids=[402],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},7346:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>x,tree:()=>u});var s=r(482),n=r(9108),i=r(2563),o=r.n(i),a=r(8300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let u=["",{children:["admin",{children:["download",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6501)),"R:\\original\\original4beat\\app\\admin\\download\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"R:\\original\\original4beat\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],d=["R:\\original\\original4beat\\app\\admin\\download\\page.tsx"],c="/admin/download/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/download/page",pathname:"/admin/download",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},8695:(e,t,r)=>{Promise.resolve().then(r.bind(r,981))},8674:()=>{},8472:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},981:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5344),n=r(3729),i=r(3724),o=r(4173);function a(){let e=(0,i.useUser)(),[t,r]=(0,n.useState)([]),a=e?.email==="beatsnepal74@gmail.com";(0,n.useEffect)(()=>{a&&l()},[e]);let l=async()=>{let{data:e,error:t}=await o.O.from("beats").select("*");t?console.error("Failed to fetch beats:",t):r(e)},u=async e=>{if(!e)return alert("No audio file found.");let{data:t,error:r}=await o.O.storage.from("beats").createSignedUrl(e,60);if(r||!t?.signedUrl)return console.error("Download error:",r),alert("Failed to get download link.");window.open(t.signedUrl,"_blank")};return e?a?(0,s.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"\uD83C\uDFB5 Admin Beat Downloads"}),0===t.length?s.jsx("p",{children:"No beats uploaded yet."}):s.jsx("div",{className:"space-y-4",children:t.map(e=>(0,s.jsxs)("div",{className:"border rounded p-4 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Key: ",e.key," | BPM: ",e.bpm]})]}),s.jsx("button",{onClick:()=>u(e.audio_path),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Download"})]},e.id))})]}):s.jsx("div",{className:"p-6 text-red-600",children:"\uD83D\uDEAB Access denied. Admin only."}):s.jsx("div",{className:"p-6",children:"\uD83D\uDD12 Please log in."})}},4173:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});let s=(0,r(3125).eI)("https://ssaxfvlcpjygsdyymlvy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNzYXhmdmxjcGp5Z3NkeXltbHZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1NTgwMTgsImV4cCI6MjA2MzEzNDAxOH0.lpq3C8QCZT3aW3kDb5SgYmr0fS3cvXAyaQDIqsmMDFE")},3724:(e,t,r)=>{"use strict";var s=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,a=(e,t,r)=>new Promise((s,n)=>{var i=e=>{try{a(r.next(e))}catch(e){n(e)}},o=e=>{try{a(r.throw(e))}catch(e){n(e)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,o);a((r=r.apply(e,t)).next())}),l={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(l,{SessionContextProvider:()=>p,useSession:()=>h,useSessionContext:()=>x,useSupabaseClient:()=>m,useUser:()=>b}),e.exports=((e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of i(t))o.call(e,r)||void 0===r||s(e,r,{get:()=>t[r],enumerable:!(a=n(t,r))||a.enumerable});return e})(s({},"__esModule",{value:!0}),l);var u=r(3729),d=r(5344),c=(0,u.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),p=({supabaseClient:e,initialSession:t=null,children:r})=>{let[s,n]=(0,u.useState)(t),[i,o]=(0,u.useState)(!t),[l,p]=(0,u.useState)();(0,u.useEffect)(()=>{!s&&t&&n(t)},[s,t]),(0,u.useEffect)(()=>{let t=!0;return function(){a(this,null,function*(){let{data:{session:r},error:s}=yield e.auth.getSession();if(t){if(s){p(s),o(!1);return}n(r),o(!1)}})}(),()=>{t=!1}},[]),(0,u.useEffect)(()=>{let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{t&&("SIGNED_IN"===e||"TOKEN_REFRESHED"===e||"USER_UPDATED"===e)&&n(t),"SIGNED_OUT"===e&&n(null)});return()=>{t.unsubscribe()}},[]);let x=(0,u.useMemo)(()=>i?{isLoading:!0,session:null,error:null,supabaseClient:e}:l?{isLoading:!1,session:null,error:l,supabaseClient:e}:{isLoading:!1,session:s,error:null,supabaseClient:e},[i,s,l]);return(0,d.jsx)(c.Provider,{value:x,children:r})},x=()=>{let e=(0,u.useContext)(c);if(void 0===e)throw Error("useSessionContext must be used within a SessionContextProvider.");return e};function m(){let e=(0,u.useContext)(c);if(void 0===e)throw Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var h=()=>{let e=(0,u.useContext)(c);if(void 0===e)throw Error("useSession must be used within a SessionContextProvider.");return e.session},b=()=>{var e,t;let r=(0,u.useContext)(c);if(void 0===r)throw Error("useUser must be used within a SessionContextProvider.");return null!=(t=null==(e=r.session)?void 0:e.user)?t:null}},6501:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`R:\original\original4beat\app\admin\download\page.tsx`),{__esModule:n,$$typeof:i}=s,o=s.default},2917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>o});var s=r(5036),n=r(265),i=r.n(n);r(4025);let o={title:"Beats4Nepal",description:"Buy and Sell Beats, Mixing & Mastering Services"};function a({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:i().className,children:e})})}},4025:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[483,125],()=>r(7346));module.exports=s})();