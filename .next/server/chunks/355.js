exports.id=355,exports.ids=[355],exports.modules={2439:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,2583,23)),Promise.resolve().then(l.t.bind(l,6840,23)),Promise.resolve().then(l.t.bind(l,8771,23)),Promise.resolve().then(l.t.bind(l,3225,23)),Promise.resolve().then(l.t.bind(l,9295,23)),Promise.resolve().then(l.t.bind(l,3982,23))},3690:()=>{},5606:(e,t,l)=>{"use strict";l.d(t,{Z:()=>b});var s=l(5344),a=l(3729),r=l(6911),i=l(7075);let n=(0,i.Z)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var c=l(7320),d=l(626);let o=(0,i.Z)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var u=l(4513),x=l(4173);let p=({isOpen:e,onClose:t,beat:l,onUpdate:r})=>{let[i,n]=(0,a.useState)(l.name),[c,d]=(0,a.useState)(l.key),[o,p]=(0,a.useState)(l.bpm.toString()),[h,m]=(0,a.useState)(l.price.toString()),[b,g]=(0,a.useState)(!1),y=async e=>{e.preventDefault(),g(!0);let{error:s}=await x.O.from("beats").update({name:i,key:c,bpm:parseInt(o),price:parseFloat(h)}).eq("id",l.id);g(!1),s?alert("Failed to update beat: "+s.message):(alert("Beat updated!"),r(),t())};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[s.jsx("button",{className:"absolute top-3 right-3 text-gray-500 hover:text-black",onClick:t,children:s.jsx(u.Z,{})}),s.jsx("h2",{className:"text-xl font-semibold mb-4 text-center",children:"Edit Beat"}),(0,s.jsxs)("form",{className:"space-y-3",onSubmit:y,children:[s.jsx("input",{type:"text",placeholder:"Beat Name",className:"w-full border rounded p-2",value:i,onChange:e=>n(e.target.value)}),s.jsx("input",{type:"text",placeholder:"Key",className:"w-full border rounded p-2",value:c,onChange:e=>d(e.target.value)}),s.jsx("input",{type:"text",placeholder:"BPM",className:"w-full border rounded p-2",value:o,onChange:e=>p(e.target.value)}),s.jsx("input",{type:"text",placeholder:"Price",className:"w-full border rounded p-2",value:h,onChange:e=>m(e.target.value)}),s.jsx("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:b?"Updating...":"Update Beat"})]})]})}):null},h=null,m=null,b=({beat:e,onDelete:t,showCopyLink:l=!0})=>{let i=(0,a.useRef)(null),[b,g]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[v,f]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[k,C]=(0,a.useState)(null),[S,Z]=(0,a.useState)(!1),I=async()=>{if(!window.confirm("Are you sure you want to delete this beat?"))return;let{error:l}=await x.O.from("beats").delete().eq("id",e.id);l?alert("Failed to delete beat: "+l.message):(alert("Beat deleted!"),t&&t())},z=async()=>{try{let t=`${window.location.origin}/beat/${e.id}`;await navigator.clipboard.writeText(t),Z(!0),setTimeout(()=>Z(!1),2e3)}catch(e){console.error("Failed to copy link:",e)}},P=null===e.phone,B=`p-2 rounded-full transition-colors ${S?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`;return(0,s.jsxs)("div",{className:"flex flex-wrap items-center bg-white rounded-2xl shadow-sm hover:shadow-md transition-all px-5 py-5 gap-4 w-full border border-blue-100",children:[s.jsx("img",{src:e.coverArt,alt:e.name,className:"w-20 h-20 rounded-lg object-cover"}),(0,s.jsxs)("div",{className:"flex-1 min-w-[150px]",children:[s.jsx("h3",{title:e.name,className:"font-semibold text-blue-900 text-base sm:text-lg leading-snug break-words line-clamp-2",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.uploader}),(0,s.jsxs)("p",{className:"text-sm text-blue-700 tracking-wide",children:[e.key," â€¢ ",e.bpm," BPM"]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 items-center justify-end",children:[l&&s.jsx("button",{onClick:z,title:S?"Link copied!":"Copy link",className:B,children:s.jsx(r.Z,{size:16})}),(0,s.jsxs)("button",{onClick:()=>{i.current&&(i.current.paused?(h&&h!==i.current&&(h.pause(),m&&m(!1)),i.current.play(),g(!0),h=i.current,m=g):(i.current.pause(),g(!1),h===i.current&&(h=null,m=null)))},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-full text-sm flex items-center space-x-1",children:[b?s.jsx(n,{size:16}):s.jsx(c.Z,{size:16}),s.jsx("span",{children:b?"Pause":"Play"})]}),(0,s.jsxs)("button",{onClick:()=>N(!0),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-full text-sm flex items-center space-x-1",children:[s.jsx(d.Z,{size:16}),s.jsx("span",{children:"Buy"})]}),t&&s.jsx("button",{onClick:t,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded-full text-sm",children:"Delete"}),(0,s.jsxs)("span",{className:"bg-red-600 text-white text-xs px-3 py-1 rounded-full shadow font-semibold whitespace-nowrap",children:["NPR ",e.price]}),P&&(0,s.jsxs)("div",{className:"relative",children:[s.jsx("button",{onClick:()=>j(!y),className:"text-blue-500 hover:text-blue-700",children:s.jsx(o,{size:18})}),y&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 bg-white shadow-md rounded z-10 w-28",children:[s.jsx("button",{className:"block w-full text-left px-3 py-2 hover:bg-blue-100 text-sm",onClick:()=>{C(e),f(!0),j(!1)},children:"Edit"}),s.jsx("button",{className:"block w-full text-left px-3 py-2 hover:bg-red-100 text-sm text-red-600",onClick:()=>{j(!1),I()},children:"Delete"})]})]})]}),s.jsx("audio",{ref:i,src:e.audioUrl,onEnded:()=>{g(!1),h===i.current&&(h=null,m=null)},hidden:!0}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-green-600 text-white p-6 rounded-xl shadow-lg text-center relative w-72",children:[s.jsx("button",{className:"absolute top-2 right-2 text-white hover:text-gray-200",onClick:()=>N(!1),children:s.jsx(u.Z,{size:20})}),s.jsx("p",{className:"text-lg font-semibold",children:"\uD83D\uDCDE Call the producer:"}),s.jsx("a",{href:`tel:${e.producerPhone}`,className:"block mt-4 text-xl font-bold underline",children:e.producerPhone})]})}),v&&k&&s.jsx(p,{isOpen:v,onClose:()=>f(!1),beat:k,onUpdate:t??(()=>{})})]})}},4173:(e,t,l)=>{"use strict";l.d(t,{O:()=>s});let s=(0,l(3125).eI)("https://ssaxfvlcpjygsdyymlvy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNzYXhmdmxjcGp5Z3NkeXltbHZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1NTgwMTgsImV4cCI6MjA2MzEzNDAxOH0.lpq3C8QCZT3aW3kDb5SgYmr0fS3cvXAyaQDIqsmMDFE")},5187:(e,t,l)=>{"use strict";l.d(t,{Z:()=>s});let s=(0,l(7075).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},6911:(e,t,l)=>{"use strict";l.d(t,{Z:()=>s});let s=(0,l(7075).Z)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},7320:(e,t,l)=>{"use strict";l.d(t,{Z:()=>s});let s=(0,l(7075).Z)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},2917:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>n,metadata:()=>i});var s=l(5036),a=l(265),r=l.n(a);l(4025);let i={title:"Beats4Nepal",description:"Buy and Sell Beats, Mixing & Mastering Services"};function n({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:r().className,children:e})})}},4025:()=>{}};